<div class="row">
  <div class="col" style="margin-left: 60%;">
    <div class="btn-group" role="group" >
      <button type="button" class="btn btn-secondary" id="button2" (click)="getAllPost()">Recientes</button>
      <button type="button" class="btn btn-secondary" id="button2" (click)="getPopularPost()">Populares</button>
      <button type="button" class="btn btn-secondary" id="button2" (click)="getAdminPost()">Admins</button>
    </div>
  </div> 
</div>
<br>
<div class="row justify-content-md-center">
  <div class= "col-lg-6">

    <div *ngFor="let post of posts" class="card mb-5" style="box-shadow: 0px 0px 12px 5px #e4e4e4">

      <div class="card-body">
        <div class="row">

          <div class="col-1">
            <img src={{post.iconBy}} height="50px" width="50px"/> 
          </div>

          <div class = "col-9">
            <div class="mb-4 card-header" id="DivTitulo">
              <h2 class="card-title" style="color:rgba(9, 46, 71, 0.788); font-weight: 600;">Título: {{post.title}}  </h2>
              <h4>{{post.postTime}}</h4>
            </div>
            <div class="card-body">
              <p class="card-text">Contenido: {{post.content}}</p>  
            </div>
          </div>

          <div class="col">
            <div class="row ">

              <button class="btn btn-info" [routerLink] = "['/edit-post', post._id]" *ngIf="post.createdBy == id" name="edit"  id="button2" style="margin-right: 10%; margin-left: 10%; ">
                <span>
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>
                  </svg>
                </span>
              </button>
          
              <button  class="btn btn-danger" (click)="deletePost(post._id)" *ngIf="post.createdBy == id" name="delete" id="button2" style="margin-right: 10%;">
                <span>
                  <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-trash-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5a.5.5 0 0 0-1 0v7a.5.5 0 0 0 1 0v-7z"/>
                  </svg>
                </span>
              </button>
                
            </div>
          </div>

        </div>
      </div>
     
      <div class="card-footer"id="FooterCards">
        <div class="row ">
          <div class="col">
            <button class="btn btn-success"  style="margin-right: 1rem;" (click)="newCommentForm()" id="button3">Comentar</button>
            <button class="btn btn-primary" style="margin-right: 1rem;" name="like" (click)="likePost(post)" id="button1">
              <span>
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-heart" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                </svg>
              </span>
              Likes: {{post.likes}}
            </button>
            <button class="btn btn-danger" name="dislike" style="margin-right: 1rem" (click)="dislikePost(post)" id="button1">
              <span>
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-hand-thumbs-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.378 1.378 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51.136.02.285.037.443.051.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.896 1.896 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.094 2.094 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.162 3.162 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28v1c.563 0 .901.272 1.066.56.086.15.121.3.121.416 0 .12-.035.165-.04.17l-.354.353.353.354c.202.202.407.512.505.805.104.312.043.44-.005.488l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.415-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.353.352.373.714.267 1.021-.122.35-.396.593-.571.651-.653.218-1.447.224-2.11.164a8.907 8.907 0 0 1-1.094-.17l-.014-.004H9.62a.5.5 0 0 0-.595.643 8.34 8.34 0 0 1 .145 4.725c-.03.112-.128.215-.288.255l-.262.066c-.306.076-.642-.156-.667-.519-.075-1.081-.239-2.15-.482-2.85-.174-.502-.603-1.267-1.238-1.977C5.597 8.926 4.715 8.23 3.62 7.93 3.226 7.823 3 7.534 3 7.28V3.279c0-.26.22-.515.553-.55 1.293-.138 1.936-.53 2.491-.869l.04-.024c.27-.165.495-.296.776-.393.277-.096.63-.163 1.14-.163h3.5v-1H8c-.605 0-1.07.08-1.466.217a4.823 4.823 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591z"/>
                </svg>
              </span>
              Dislikes: {{post.dislikes}}
            </button>
            <button class="btn btn-secondary" id="button3" name="verComments" style="margin-right: 1rem" *ngIf="!showComment" (click)="showComments()" id="button3">
              Ver comentarios
            </button>
            <button class="btn btn-light" name="verComments" style="margin-right: 1rem" *ngIf="showComment" (click)="cancelShowComments()">
              Menos comentarios
            </button>
          </div>
        </div>
      </div>


      <div *ngIf="showComment">
        <div class="card w-75" *ngFor="let comentario of post.comments" style="margin-left: 25%;">
          <div class="card-header">
            Comentario de:
            <img src={{comentario.iconBy}} height="30px" width="30px"/>
          </div>
          <div class="card-body">
            <p>{{comentario.comment}}</p>
          </div>
        </div>
      </div>


      <div class="card" *ngIf="newComment">
        <div class="card-header">
          Nueva comentario
        </div>
        <div class="card-body">
          <form [formGroup]="form" name="postForm" (submit)="addComment(post)">
            <div class="form-group">
              <label>Escribe aquí tu comentario</label>
              <div >
                <input type="text"  id="tituloC" name="title" class="form-control" formControlName="comment">
              </div>
            </div>
            <button  type="button" class="btn btn-danger" style="margin-right: 1rem;" (click)="cancelCommentForm()">Cancelar</button>
            <input  type="submit" class="btn btn-success" id="publicarC" (click)="reloadPage()" value="Publicar">
          </form>
        </div>
      </div>
    

  </div>
</div>

